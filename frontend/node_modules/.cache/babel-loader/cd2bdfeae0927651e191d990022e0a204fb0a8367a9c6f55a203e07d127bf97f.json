{"ast":null,"code":"import{useState,useEffect,useCallback}from'react';export const useVoiceCommand=()=>{const[isListening,setIsListening]=useState(false);const[isSupported,setIsSupported]=useState(false);const[transcript,setTranscript]=useState('');const[error,setError]=useState(null);useEffect(()=>{// Check if browser supports speech recognition\nconst SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;setIsSupported(!!SpeechRecognition);},[]);const startListening=useCallback(()=>{if(!isSupported){setError('Speech recognition is not supported in this browser');return;}const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const recognition=new SpeechRecognition();recognition.continuous=true;recognition.interimResults=true;recognition.lang='en-US';recognition.onstart=()=>{setIsListening(true);setError(null);};recognition.onresult=event=>{let finalTranscript='';let interimTranscript='';for(let i=event.resultIndex;i<event.results.length;i++){const transcript=event.results[i][0].transcript;if(event.results[i].isFinal){finalTranscript+=transcript;}else{interimTranscript+=transcript;}}setTranscript(finalTranscript||interimTranscript);};recognition.onerror=event=>{setError(\"Speech recognition error: \".concat(event.error));setIsListening(false);};recognition.onend=()=>{setIsListening(false);};recognition.start();},[isSupported]);const stopListening=useCallback(()=>{setIsListening(false);setTranscript('');},[]);const clearTranscript=useCallback(()=>{setTranscript('');},[]);// Voice command processing\nconst processVoiceCommand=useCallback(command=>{const lowerCommand=command.toLowerCase().trim();// Navigation commands\nif(lowerCommand.includes('go to')||lowerCommand.includes('navigate to')){if(lowerCommand.includes('dashboard'))return{type:'navigate',path:'/dashboard'};if(lowerCommand.includes('manufacturing')||lowerCommand.includes('manufacturing orders'))return{type:'navigate',path:'/manufacturing-orders'};if(lowerCommand.includes('work orders'))return{type:'navigate',path:'/work-orders'};if(lowerCommand.includes('stock')||lowerCommand.includes('stock ledger'))return{type:'navigate',path:'/stock-ledger'};if(lowerCommand.includes('reports'))return{type:'navigate',path:'/reports'};}// Action commands\nif(lowerCommand.includes('create')||lowerCommand.includes('new')){if(lowerCommand.includes('manufacturing order'))return{type:'action',action:'createManufacturingOrder'};if(lowerCommand.includes('work order'))return{type:'action',action:'createWorkOrder'};if(lowerCommand.includes('stock item'))return{type:'action',action:'createStockItem'};}if(lowerCommand.includes('start')){if(lowerCommand.includes('manufacturing order'))return{type:'action',action:'startManufacturingOrder'};if(lowerCommand.includes('work order'))return{type:'action',action:'startWorkOrder'};}if(lowerCommand.includes('confirm')){return{type:'action',action:'confirmOrder'};}if(lowerCommand.includes('cancel')){return{type:'action',action:'cancelOrder'};}// Search commands\nif(lowerCommand.includes('search')||lowerCommand.includes('find')){const searchTerm=lowerCommand.replace(/search|find|for/gi,'').trim();return{type:'search',term:searchTerm};}// Help command\nif(lowerCommand.includes('help')||lowerCommand.includes('what can you do')){return{type:'help'};}return{type:'unknown',command:lowerCommand};},[]);return{isListening,isSupported,transcript,error,startListening,stopListening,clearTranscript,processVoiceCommand};};","map":{"version":3,"names":["useState","useEffect","useCallback","useVoiceCommand","isListening","setIsListening","isSupported","setIsSupported","transcript","setTranscript","error","setError","SpeechRecognition","window","webkitSpeechRecognition","startListening","recognition","continuous","interimResults","lang","onstart","onresult","event","finalTranscript","interimTranscript","i","resultIndex","results","length","isFinal","onerror","concat","onend","start","stopListening","clearTranscript","processVoiceCommand","command","lowerCommand","toLowerCase","trim","includes","type","path","action","searchTerm","replace","term"],"sources":["d:/OD/odooxnmit/frontend/src/hooks/useVoiceCommand.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport const useVoiceCommand = () => {\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [isSupported, setIsSupported] = useState(false);\r\n  const [transcript, setTranscript] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Check if browser supports speech recognition\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    setIsSupported(!!SpeechRecognition);\r\n  }, []);\r\n\r\n  const startListening = useCallback(() => {\r\n    if (!isSupported) {\r\n      setError('Speech recognition is not supported in this browser');\r\n      return;\r\n    }\r\n\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    const recognition = new SpeechRecognition();\r\n\r\n    recognition.continuous = true;\r\n    recognition.interimResults = true;\r\n    recognition.lang = 'en-US';\r\n\r\n    recognition.onstart = () => {\r\n      setIsListening(true);\r\n      setError(null);\r\n    };\r\n\r\n    recognition.onresult = (event) => {\r\n      let finalTranscript = '';\r\n      let interimTranscript = '';\r\n\r\n      for (let i = event.resultIndex; i < event.results.length; i++) {\r\n        const transcript = event.results[i][0].transcript;\r\n        if (event.results[i].isFinal) {\r\n          finalTranscript += transcript;\r\n        } else {\r\n          interimTranscript += transcript;\r\n        }\r\n      }\r\n\r\n      setTranscript(finalTranscript || interimTranscript);\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      setError(`Speech recognition error: ${event.error}`);\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.start();\r\n  }, [isSupported]);\r\n\r\n  const stopListening = useCallback(() => {\r\n    setIsListening(false);\r\n    setTranscript('');\r\n  }, []);\r\n\r\n  const clearTranscript = useCallback(() => {\r\n    setTranscript('');\r\n  }, []);\r\n\r\n  // Voice command processing\r\n  const processVoiceCommand = useCallback((command) => {\r\n    const lowerCommand = command.toLowerCase().trim();\r\n    \r\n    // Navigation commands\r\n    if (lowerCommand.includes('go to') || lowerCommand.includes('navigate to')) {\r\n      if (lowerCommand.includes('dashboard')) return { type: 'navigate', path: '/dashboard' };\r\n      if (lowerCommand.includes('manufacturing') || lowerCommand.includes('manufacturing orders')) return { type: 'navigate', path: '/manufacturing-orders' };\r\n      if (lowerCommand.includes('work orders')) return { type: 'navigate', path: '/work-orders' };\r\n      if (lowerCommand.includes('stock') || lowerCommand.includes('stock ledger')) return { type: 'navigate', path: '/stock-ledger' };\r\n      if (lowerCommand.includes('reports')) return { type: 'navigate', path: '/reports' };\r\n    }\r\n\r\n    // Action commands\r\n    if (lowerCommand.includes('create') || lowerCommand.includes('new')) {\r\n      if (lowerCommand.includes('manufacturing order')) return { type: 'action', action: 'createManufacturingOrder' };\r\n      if (lowerCommand.includes('work order')) return { type: 'action', action: 'createWorkOrder' };\r\n      if (lowerCommand.includes('stock item')) return { type: 'action', action: 'createStockItem' };\r\n    }\r\n\r\n    if (lowerCommand.includes('start')) {\r\n      if (lowerCommand.includes('manufacturing order')) return { type: 'action', action: 'startManufacturingOrder' };\r\n      if (lowerCommand.includes('work order')) return { type: 'action', action: 'startWorkOrder' };\r\n    }\r\n\r\n    if (lowerCommand.includes('confirm')) {\r\n      return { type: 'action', action: 'confirmOrder' };\r\n    }\r\n\r\n    if (lowerCommand.includes('cancel')) {\r\n      return { type: 'action', action: 'cancelOrder' };\r\n    }\r\n\r\n    // Search commands\r\n    if (lowerCommand.includes('search') || lowerCommand.includes('find')) {\r\n      const searchTerm = lowerCommand.replace(/search|find|for/gi, '').trim();\r\n      return { type: 'search', term: searchTerm };\r\n    }\r\n\r\n    // Help command\r\n    if (lowerCommand.includes('help') || lowerCommand.includes('what can you do')) {\r\n      return { type: 'help' };\r\n    }\r\n\r\n    return { type: 'unknown', command: lowerCommand };\r\n  }, []);\r\n\r\n  return {\r\n    isListening,\r\n    isSupported,\r\n    transcript,\r\n    error,\r\n    startListening,\r\n    stopListening,\r\n    clearTranscript,\r\n    processVoiceCommand\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAExD,MAAO,MAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CACnC,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGL,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACM,WAAW,CAAEC,cAAc,CAAC,CAAGP,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACQ,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAW,iBAAiB,CAAGC,MAAM,CAACD,iBAAiB,EAAIC,MAAM,CAACC,uBAAuB,CACpFP,cAAc,CAAC,CAAC,CAACK,iBAAiB,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,cAAc,CAAGb,WAAW,CAAC,IAAM,CACvC,GAAI,CAACI,WAAW,CAAE,CAChBK,QAAQ,CAAC,qDAAqD,CAAC,CAC/D,OACF,CAEA,KAAM,CAAAC,iBAAiB,CAAGC,MAAM,CAACD,iBAAiB,EAAIC,MAAM,CAACC,uBAAuB,CACpF,KAAM,CAAAE,WAAW,CAAG,GAAI,CAAAJ,iBAAiB,CAAC,CAAC,CAE3CI,WAAW,CAACC,UAAU,CAAG,IAAI,CAC7BD,WAAW,CAACE,cAAc,CAAG,IAAI,CACjCF,WAAW,CAACG,IAAI,CAAG,OAAO,CAE1BH,WAAW,CAACI,OAAO,CAAG,IAAM,CAC1Bf,cAAc,CAAC,IAAI,CAAC,CACpBM,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAEDK,WAAW,CAACK,QAAQ,CAAIC,KAAK,EAAK,CAChC,GAAI,CAAAC,eAAe,CAAG,EAAE,CACxB,GAAI,CAAAC,iBAAiB,CAAG,EAAE,CAE1B,IAAK,GAAI,CAAAC,CAAC,CAAGH,KAAK,CAACI,WAAW,CAAED,CAAC,CAAGH,KAAK,CAACK,OAAO,CAACC,MAAM,CAAEH,CAAC,EAAE,CAAE,CAC7D,KAAM,CAAAjB,UAAU,CAAGc,KAAK,CAACK,OAAO,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAACjB,UAAU,CACjD,GAAIc,KAAK,CAACK,OAAO,CAACF,CAAC,CAAC,CAACI,OAAO,CAAE,CAC5BN,eAAe,EAAIf,UAAU,CAC/B,CAAC,IAAM,CACLgB,iBAAiB,EAAIhB,UAAU,CACjC,CACF,CAEAC,aAAa,CAACc,eAAe,EAAIC,iBAAiB,CAAC,CACrD,CAAC,CAEDR,WAAW,CAACc,OAAO,CAAIR,KAAK,EAAK,CAC/BX,QAAQ,8BAAAoB,MAAA,CAA8BT,KAAK,CAACZ,KAAK,CAAE,CAAC,CACpDL,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAEDW,WAAW,CAACgB,KAAK,CAAG,IAAM,CACxB3B,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAEDW,WAAW,CAACiB,KAAK,CAAC,CAAC,CACrB,CAAC,CAAE,CAAC3B,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAA4B,aAAa,CAAGhC,WAAW,CAAC,IAAM,CACtCG,cAAc,CAAC,KAAK,CAAC,CACrBI,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAA0B,eAAe,CAAGjC,WAAW,CAAC,IAAM,CACxCO,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAA2B,mBAAmB,CAAGlC,WAAW,CAAEmC,OAAO,EAAK,CACnD,KAAM,CAAAC,YAAY,CAAGD,OAAO,CAACE,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAEjD;AACA,GAAIF,YAAY,CAACG,QAAQ,CAAC,OAAO,CAAC,EAAIH,YAAY,CAACG,QAAQ,CAAC,aAAa,CAAC,CAAE,CAC1E,GAAIH,YAAY,CAACG,QAAQ,CAAC,WAAW,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,YAAa,CAAC,CACvF,GAAIL,YAAY,CAACG,QAAQ,CAAC,eAAe,CAAC,EAAIH,YAAY,CAACG,QAAQ,CAAC,sBAAsB,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,uBAAwB,CAAC,CACvJ,GAAIL,YAAY,CAACG,QAAQ,CAAC,aAAa,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,cAAe,CAAC,CAC3F,GAAIL,YAAY,CAACG,QAAQ,CAAC,OAAO,CAAC,EAAIH,YAAY,CAACG,QAAQ,CAAC,cAAc,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,eAAgB,CAAC,CAC/H,GAAIL,YAAY,CAACG,QAAQ,CAAC,SAAS,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,UAAW,CAAC,CACrF,CAEA;AACA,GAAIL,YAAY,CAACG,QAAQ,CAAC,QAAQ,CAAC,EAAIH,YAAY,CAACG,QAAQ,CAAC,KAAK,CAAC,CAAE,CACnE,GAAIH,YAAY,CAACG,QAAQ,CAAC,qBAAqB,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEE,MAAM,CAAE,0BAA2B,CAAC,CAC/G,GAAIN,YAAY,CAACG,QAAQ,CAAC,YAAY,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEE,MAAM,CAAE,iBAAkB,CAAC,CAC7F,GAAIN,YAAY,CAACG,QAAQ,CAAC,YAAY,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEE,MAAM,CAAE,iBAAkB,CAAC,CAC/F,CAEA,GAAIN,YAAY,CAACG,QAAQ,CAAC,OAAO,CAAC,CAAE,CAClC,GAAIH,YAAY,CAACG,QAAQ,CAAC,qBAAqB,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEE,MAAM,CAAE,yBAA0B,CAAC,CAC9G,GAAIN,YAAY,CAACG,QAAQ,CAAC,YAAY,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEE,MAAM,CAAE,gBAAiB,CAAC,CAC9F,CAEA,GAAIN,YAAY,CAACG,QAAQ,CAAC,SAAS,CAAC,CAAE,CACpC,MAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEE,MAAM,CAAE,cAAe,CAAC,CACnD,CAEA,GAAIN,YAAY,CAACG,QAAQ,CAAC,QAAQ,CAAC,CAAE,CACnC,MAAO,CAAEC,IAAI,CAAE,QAAQ,CAAEE,MAAM,CAAE,aAAc,CAAC,CAClD,CAEA;AACA,GAAIN,YAAY,CAACG,QAAQ,CAAC,QAAQ,CAAC,EAAIH,YAAY,CAACG,QAAQ,CAAC,MAAM,CAAC,CAAE,CACpE,KAAM,CAAAI,UAAU,CAAGP,YAAY,CAACQ,OAAO,CAAC,mBAAmB,CAAE,EAAE,CAAC,CAACN,IAAI,CAAC,CAAC,CACvE,MAAO,CAAEE,IAAI,CAAE,QAAQ,CAAEK,IAAI,CAAEF,UAAW,CAAC,CAC7C,CAEA;AACA,GAAIP,YAAY,CAACG,QAAQ,CAAC,MAAM,CAAC,EAAIH,YAAY,CAACG,QAAQ,CAAC,iBAAiB,CAAC,CAAE,CAC7E,MAAO,CAAEC,IAAI,CAAE,MAAO,CAAC,CACzB,CAEA,MAAO,CAAEA,IAAI,CAAE,SAAS,CAAEL,OAAO,CAAEC,YAAa,CAAC,CACnD,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLlC,WAAW,CACXE,WAAW,CACXE,UAAU,CACVE,KAAK,CACLK,cAAc,CACdmB,aAAa,CACbC,eAAe,CACfC,mBACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}