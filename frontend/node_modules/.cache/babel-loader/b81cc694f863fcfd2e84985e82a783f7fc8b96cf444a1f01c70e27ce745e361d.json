{"ast":null,"code":"import _objectSpread from\"d:/OD/odooxnmit/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useManufacturing}from'../context/ManufacturingContext';import BackToDashboard from'../components/BackToDashboard';import VoiceCommand from'../components/VoiceCommand';// Dummy data for the 'Finished Product' dropdown - Fixed accessibility issue\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const stockLedger=[{id:1,name:'Assembled Gaming PC'},{id:2,name:'Wooden Bookshelf'},{id:3,name:'Metal Desk Frame'}];// Helper function to generate a new, sequential BOM ID\nfunction generateBOMId(lastId){const nextNumber=parseInt((lastId===null||lastId===void 0?void 0:lastId.split('-')[1])||'0',10)+1;return\"BOM-\".concat(nextNumber.toString().padStart(6,'0'));}const BillOfMaterials=()=>{const{billsOfMaterials,addBOM,updateBOM,deleteBOM,generateBOMId}=useManufacturing();// State for the list view and view toggling\nconst[search,setSearch]=useState('');const[showEdit,setShowEdit]=useState(false);const[editingBOM,setEditingBOM]=useState(null);// State for the Manufacturing Order display\nconst[selectedBOMId,setSelectedBOMId]=useState('');const[moComponents,setMoComponents]=useState([]);const[moWorkOrders,setMoWorkOrders]=useState([]);// State for the form fields when creating or editing a BOM\nconst isNew=!editingBOM;const[bomId,setBomId]=useState('');const[finishedProduct,setFinishedProduct]=useState('');const[quantity,setQuantity]=useState(1);const[reference,setReference]=useState('');const[components,setComponents]=useState([]);const[workOrders,setWorkOrders]=useState([]);// New: for better interactivity\nconst[error,setError]=useState('');const[rowHighlight,setRowHighlight]=useState(null);const finishedProductRef=useRef(null);// Focus on first field when entering edit/new\nuseEffect(()=>{if(showEdit&&finishedProductRef.current){finishedProductRef.current.focus();}},[showEdit]);// Populate the form when switching to 'New/Edit' view\nuseEffect(()=>{if(showEdit){if(editingBOM){// Populate with data of the BOM being edited\nsetBomId(editingBOM.id);setFinishedProduct(editingBOM.finishedProduct);setQuantity(editingBOM.quantity);setReference(editingBOM.reference);setComponents(editingBOM.components||[]);setWorkOrders(editingBOM.workOrders||[]);}else{// Reset fields for a new BOM\nsetBomId(generateBOMId());setFinishedProduct('');setQuantity(1);setReference('');setComponents([]);setWorkOrders([]);}setError('');}},[showEdit,editingBOM,generateBOMId]);// Update the Manufacturing Order display when a BOM is selected\nuseEffect(()=>{const bom=billsOfMaterials.find(b=>b.id===selectedBOMId);if(bom){setMoComponents(bom.components||[]);setMoWorkOrders(bom.workOrders||[]);}else{setMoComponents([]);setMoWorkOrders([]);}},[selectedBOMId,billsOfMaterials]);// Dynamically filters the BOM list based on the search input\nconst filteredBOMs=billsOfMaterials.filter(bom=>bom.finishedProduct.toLowerCase().includes(search.toLowerCase())||bom.reference.toLowerCase().includes(search.toLowerCase()));// Handlers for the dynamic \"Components\" table in the form\nconst addComponent=()=>setComponents([...components,{component:'',toConsume:1,units:''}]);const updateComponent=(idx,field,value)=>{const updated=components.map((row,i)=>i===idx?_objectSpread(_objectSpread({},row),{},{[field]:value}):row);setComponents(updated);};const removeComponent=idx=>setComponents(components.filter((_,i)=>i!==idx));// Handlers for the dynamic \"Work Orders\" table in the form\nconst addWorkOrder=()=>setWorkOrders([...workOrders,{operation:'',workCenter:'',duration:''}]);const updateWorkOrder=(idx,field,value)=>{const updated=workOrders.map((row,i)=>i===idx?_objectSpread(_objectSpread({},row),{},{[field]:value}):row);setWorkOrders(updated);};const removeWorkOrder=idx=>setWorkOrders(workOrders.filter((_,i)=>i!==idx));// Validate form fields before save\nconst isFormInvalid=!finishedProduct||!quantity||quantity<=0;// Save with confirmation and error feedback\nconst handleSave=()=>{setError('');if(isFormInvalid){setError('Please select a Finished Product and set a valid Quantity.');return;}const bomToSave={id:bomId,finishedProduct,quantity:parseFloat(quantity),reference,components,workOrders};if(!isNew){if(!window.confirm('Are you sure you want to overwrite this BOM?'))return;updateBOM(bomToSave.id,bomToSave);}else{addBOM(bomToSave);}setShowEdit(false);setEditingBOM(null);};// Confirm before canceling edits\nconst handleCancel=()=>{if(window.confirm('Discard changes to the Bill of Materials?')){setShowEdit(false);setEditingBOM(null);setError('');}};// Handle row hover and click-to-edit\nconst handleRowMouseEnter=idx=>setRowHighlight(idx);const handleRowMouseLeave=()=>setRowHighlight(null);const handleEdit=bom=>{setEditingBOM(bom);setShowEdit(true);};const handleNew=()=>{setEditingBOM(null);setShowEdit(true);};// Handle BOM deletion\nconst handleDelete=bomId=>{if(window.confirm('Are you sure you want to delete this BOM? This action cannot be undone.')){deleteBOM(bomId);}};const handleVoiceCommand=(type,data)=>{if(type==='search'){setSearch(data);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(BackToDashboard,{}),!showEdit?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Bills of Materials\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Manage product bills of materials and manufacturing orders\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search Finished Product or Reference...\",value:search,onChange:e=>setSearch(e.target.value),className:\"input-field pl-10 w-80\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNew,className:\"btn-primary\",children:\"New BOM\"}),/*#__PURE__*/_jsx(VoiceCommand,{onCommand:handleVoiceCommand})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"BOM ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Finished Product\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Reference\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredBOMs.length>0?filteredBOMs.map((bom,idx)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 cursor-pointer \".concat(rowHighlight===idx?'bg-blue-50':''),onMouseEnter:()=>handleRowMouseEnter(idx),onMouseLeave:handleRowMouseLeave,onClick:()=>handleEdit(bom),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:bom.id}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:bom.finishedProduct}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:bom.quantity}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:bom.reference}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleEdit(bom);},className:\"text-indigo-600 hover:text-indigo-900\",children:\"Edit\"})})]},bom.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"No Bills of Materials found.\"})})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Manufacturing Order\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"View components and work orders for selected BOM\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bom-select\",className:\"text-sm font-medium text-gray-700\",children:\"Select BOM:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"bom-select\",value:selectedBOMId,onChange:e=>setSelectedBOMId(e.target.value),className:\"input-field min-w-[250px]\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a BOM to view its template\"}),billsOfMaterials.map(bom=>/*#__PURE__*/_jsx(\"option\",{value:bom.id,children:\"\".concat(bom.id,\" - \").concat(bom.finishedProduct)},bom.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-md font-medium text-gray-900 mb-4\",children:\"Components\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Component\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"To Consume\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Units\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:moComponents.length>0?moComponents.map((c,i)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:c.component}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:c.toConsume}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:c.units})]},i)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"Select a BOM to see components.\"})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-md font-medium text-gray-900 mb-4\",children:\"Work Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Operation\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Work Center\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Expected Duration\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:moWorkOrders.length>0?moWorkOrders.map((wo,i)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:wo.operation}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:wo.workCenter}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:wo.duration})]},i)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"Select a BOM to see work orders.\"})})})]})})]})]})]})]}):/*#__PURE__*//* New/Edit Bill of Materials Form View */_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:[isNew?'Create':'Edit',\" Bill of Materials\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:isNew?'Create a new bill of materials':'Edit existing bill of materials'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEdit(false),className:\"btn-secondary\",children:\"\\u2190 Back to List\"})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-800 text-sm\",children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"BOM ID\"}),/*#__PURE__*/_jsx(\"input\",{value:bomId,readOnly:true,className:\"input-field bg-gray-50\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Finished Product\"}),/*#__PURE__*/_jsxs(\"select\",{ref:finishedProductRef,value:finishedProduct,onChange:e=>setFinishedProduct(e.target.value),className:\"input-field\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Product\"}),stockLedger.map(item=>/*#__PURE__*/_jsx(\"option\",{value:item.name,children:item.name},item.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:quantity,onChange:e=>setQuantity(e.target.value),className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Reference\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:8,value:reference,onChange:e=>setReference(e.target.value),className:\"input-field\",placeholder:\"Optional reference\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Components\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Component\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"To Consume\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Units\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:components.map((row,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{value:row.component,onChange:e=>updateComponent(idx,'component',e.target.value),placeholder:\"e.g., Motherboard\",className:\"input-field\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:row.toConsume,onChange:e=>updateComponent(idx,'toConsume',e.target.value),className:\"input-field\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{value:row.units,onChange:e=>updateComponent(idx,'units',e.target.value),placeholder:\"e.g., pcs\",className:\"input-field\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeComponent(idx),className:\"text-red-600 hover:text-red-900\",children:\"Remove\"})})]},idx))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:addComponent,className:\"btn-secondary\",children:\"Add Component\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Work Orders\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Operation\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Work Center\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Expected Duration (hours)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:workOrders.map((row,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{value:row.operation,onChange:e=>updateWorkOrder(idx,'operation',e.target.value),placeholder:\"e.g., Assembly\",className:\"input-field\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{value:row.workCenter,onChange:e=>updateWorkOrder(idx,'workCenter',e.target.value),placeholder:\"e.g., Assembly Line 1\",className:\"input-field\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:\"0\",value:row.duration,onChange:e=>updateWorkOrder(idx,'duration',e.target.value),className:\"input-field\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeWorkOrder(idx),className:\"text-red-600 hover:text-red-900\",children:\"Remove\"})})]},idx))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:addWorkOrder,className:\"btn-secondary\",children:\"Add Work Order\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"btn-primary\",disabled:isFormInvalid,children:\"Save Bill of Materials\"})]})]})]})]});};export default BillOfMaterials;","map":{"version":3,"names":["React","useState","useEffect","useRef","useManufacturing","BackToDashboard","VoiceCommand","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","stockLedger","id","name","generateBOMId","lastId","nextNumber","parseInt","split","concat","toString","padStart","BillOfMaterials","billsOfMaterials","addBOM","updateBOM","deleteBOM","search","setSearch","showEdit","setShowEdit","editingBOM","setEditingBOM","selectedBOMId","setSelectedBOMId","moComponents","setMoComponents","moWorkOrders","setMoWorkOrders","isNew","bomId","setBomId","finishedProduct","setFinishedProduct","quantity","setQuantity","reference","setReference","components","setComponents","workOrders","setWorkOrders","error","setError","rowHighlight","setRowHighlight","finishedProductRef","current","focus","bom","find","b","filteredBOMs","filter","toLowerCase","includes","addComponent","component","toConsume","units","updateComponent","idx","field","value","updated","map","row","i","_objectSpread","removeComponent","_","addWorkOrder","operation","workCenter","duration","updateWorkOrder","removeWorkOrder","isFormInvalid","handleSave","bomToSave","parseFloat","window","confirm","handleCancel","handleRowMouseEnter","handleRowMouseLeave","handleEdit","handleNew","handleDelete","handleVoiceCommand","type","data","className","children","placeholder","onChange","e","target","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","onCommand","length","onMouseEnter","onMouseLeave","stopPropagation","colSpan","htmlFor","c","wo","readOnly","ref","item","step","min","maxLength","disabled"],"sources":["d:/OD/odooxnmit/frontend/src/pages/BillsOfMaterials.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useManufacturing } from '../context/ManufacturingContext';\r\nimport BackToDashboard from '../components/BackToDashboard';\r\nimport VoiceCommand from '../components/VoiceCommand';\r\n\r\n// Dummy data for the 'Finished Product' dropdown - Fixed accessibility issue\r\nconst stockLedger = [\r\n  { id: 1, name: 'Assembled Gaming PC' },\r\n  { id: 2, name: 'Wooden Bookshelf' },\r\n  { id: 3, name: 'Metal Desk Frame' },\r\n];\r\n\r\n// Helper function to generate a new, sequential BOM ID\r\nfunction generateBOMId(lastId) {\r\n  const nextNumber = (parseInt(lastId?.split('-')[1] || '0', 10) + 1);\r\n  return `BOM-${nextNumber.toString().padStart(6, '0')}`;\r\n}\r\n\r\nconst BillOfMaterials = () => {\r\n  const { \r\n    billsOfMaterials, \r\n    addBOM, \r\n    updateBOM, \r\n    deleteBOM, \r\n    generateBOMId \r\n  } = useManufacturing();\r\n  \r\n  // State for the list view and view toggling\r\n  const [search, setSearch] = useState('');\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [editingBOM, setEditingBOM] = useState(null);\r\n\r\n  // State for the Manufacturing Order display\r\n  const [selectedBOMId, setSelectedBOMId] = useState('');\r\n  const [moComponents, setMoComponents] = useState([]);\r\n  const [moWorkOrders, setMoWorkOrders] = useState([]);\r\n\r\n  // State for the form fields when creating or editing a BOM\r\n  const isNew = !editingBOM;\r\n  const [bomId, setBomId] = useState('');\r\n  const [finishedProduct, setFinishedProduct] = useState('');\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [reference, setReference] = useState('');\r\n  const [components, setComponents] = useState([]);\r\n  const [workOrders, setWorkOrders] = useState([]);\r\n\r\n  // New: for better interactivity\r\n  const [error, setError] = useState('');\r\n  const [rowHighlight, setRowHighlight] = useState(null);\r\n  const finishedProductRef = useRef(null);\r\n\r\n  // Focus on first field when entering edit/new\r\n  useEffect(() => {\r\n    if (showEdit && finishedProductRef.current) {\r\n      finishedProductRef.current.focus();\r\n    }\r\n  }, [showEdit]);\r\n\r\n  // Populate the form when switching to 'New/Edit' view\r\n  useEffect(() => {\r\n    if (showEdit) {\r\n      if (editingBOM) { // Populate with data of the BOM being edited\r\n        setBomId(editingBOM.id);\r\n        setFinishedProduct(editingBOM.finishedProduct);\r\n        setQuantity(editingBOM.quantity);\r\n        setReference(editingBOM.reference);\r\n        setComponents(editingBOM.components || []);\r\n        setWorkOrders(editingBOM.workOrders || []);\r\n      } else { // Reset fields for a new BOM\r\n        setBomId(generateBOMId());\r\n        setFinishedProduct('');\r\n        setQuantity(1);\r\n        setReference('');\r\n        setComponents([]);\r\n        setWorkOrders([]);\r\n      }\r\n      setError('');\r\n    }\r\n  }, [showEdit, editingBOM, generateBOMId]);\r\n\r\n  // Update the Manufacturing Order display when a BOM is selected\r\n  useEffect(() => {\r\n    const bom = billsOfMaterials.find(b => b.id === selectedBOMId);\r\n    if (bom) {\r\n      setMoComponents(bom.components || []);\r\n      setMoWorkOrders(bom.workOrders || []);\r\n    } else {\r\n      setMoComponents([]);\r\n      setMoWorkOrders([]);\r\n    }\r\n  }, [selectedBOMId, billsOfMaterials]);\r\n\r\n  // Dynamically filters the BOM list based on the search input\r\n  const filteredBOMs = billsOfMaterials.filter(bom =>\r\n    bom.finishedProduct.toLowerCase().includes(search.toLowerCase()) ||\r\n    bom.reference.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  // Handlers for the dynamic \"Components\" table in the form\r\n  const addComponent = () => setComponents([...components, { component: '', toConsume: 1, units: '' }]);\r\n  const updateComponent = (idx, field, value) => {\r\n    const updated = components.map((row, i) => i === idx ? { ...row, [field]: value } : row);\r\n    setComponents(updated);\r\n  };\r\n  const removeComponent = idx => setComponents(components.filter((_, i) => i !== idx));\r\n\r\n  // Handlers for the dynamic \"Work Orders\" table in the form\r\n  const addWorkOrder = () => setWorkOrders([...workOrders, { operation: '', workCenter: '', duration: '' }]);\r\n  const updateWorkOrder = (idx, field, value) => {\r\n    const updated = workOrders.map((row, i) => i === idx ? { ...row, [field]: value } : row);\r\n    setWorkOrders(updated);\r\n  };\r\n  const removeWorkOrder = idx => setWorkOrders(workOrders.filter((_, i) => i !== idx));\r\n\r\n  // Validate form fields before save\r\n  const isFormInvalid = !finishedProduct || !quantity || quantity <= 0;\r\n\r\n  // Save with confirmation and error feedback\r\n  const handleSave = () => {\r\n    setError('');\r\n    if (isFormInvalid) {\r\n      setError('Please select a Finished Product and set a valid Quantity.');\r\n      return;\r\n    }\r\n    const bomToSave = { \r\n      id: bomId, \r\n      finishedProduct, \r\n      quantity: parseFloat(quantity), \r\n      reference, \r\n      components, \r\n      workOrders \r\n    };\r\n    \r\n    if (!isNew) {\r\n      if (!window.confirm('Are you sure you want to overwrite this BOM?')) return;\r\n      updateBOM(bomToSave.id, bomToSave);\r\n    } else {\r\n      addBOM(bomToSave);\r\n    }\r\n    setShowEdit(false);\r\n    setEditingBOM(null);\r\n  };\r\n\r\n  // Confirm before canceling edits\r\n  const handleCancel = () => {\r\n    if (window.confirm('Discard changes to the Bill of Materials?')) {\r\n      setShowEdit(false);\r\n      setEditingBOM(null);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  // Handle row hover and click-to-edit\r\n  const handleRowMouseEnter = idx => setRowHighlight(idx);\r\n  const handleRowMouseLeave = () => setRowHighlight(null);\r\n\r\n  const handleEdit = (bom) => { setEditingBOM(bom); setShowEdit(true); };\r\n  const handleNew = () => { setEditingBOM(null); setShowEdit(true); };\r\n\r\n  // Handle BOM deletion\r\n  const handleDelete = (bomId) => {\r\n    if (window.confirm('Are you sure you want to delete this BOM? This action cannot be undone.')) {\r\n      deleteBOM(bomId);\r\n    }\r\n  };\r\n\r\n  const handleVoiceCommand = (type, data) => {\r\n    if (type === 'search') {\r\n      setSearch(data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <BackToDashboard />\r\n      \r\n      {!showEdit ? (\r\n        <>          \r\n          {/* Header with Search Bar */}\r\n          <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">Bills of Materials</h1>\r\n              <p className=\"text-gray-600 mt-1\">Manage product bills of materials and manufacturing orders</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              {/* Search Bar */}\r\n              <div className=\"relative\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search Finished Product or Reference...\"\r\n                  value={search}\r\n                  onChange={e => setSearch(e.target.value)}\r\n                  className=\"input-field pl-10 w-80\"\r\n                />\r\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                  <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n              <button onClick={handleNew} className=\"btn-primary\">\r\n                New BOM\r\n              </button>\r\n              <VoiceCommand onCommand={handleVoiceCommand} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bills of Materials Table */}\r\n          <div className=\"card\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">BOM ID</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Finished Product</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Quantity</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Reference</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {filteredBOMs.length > 0 ? filteredBOMs.map((bom, idx) => (\r\n                    <tr\r\n                      key={bom.id}\r\n                      className={`hover:bg-gray-50 cursor-pointer ${\r\n                        rowHighlight === idx ? 'bg-blue-50' : ''\r\n                      }`}\r\n                      onMouseEnter={() => handleRowMouseEnter(idx)}\r\n                      onMouseLeave={handleRowMouseLeave}\r\n                      onClick={() => handleEdit(bom)}\r\n                    >\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{bom.id}</td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{bom.finishedProduct}</td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{bom.quantity}</td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{bom.reference}</td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                        <button\r\n                          onClick={e => { e.stopPropagation(); handleEdit(bom); }}\r\n                          className=\"text-indigo-600 hover:text-indigo-900\"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  )) : (\r\n                    <tr>\r\n                      <td colSpan=\"5\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                        No Bills of Materials found.\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Manufacturing Order Display */}\r\n          <div className=\"card\">\r\n            <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6\">\r\n              <div>\r\n                <h2 className=\"text-lg font-semibold text-gray-900\">Manufacturing Order</h2>\r\n                <p className=\"text-gray-600 mt-1\">View components and work orders for selected BOM</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <label htmlFor=\"bom-select\" className=\"text-sm font-medium text-gray-700\">Select BOM:</label>\r\n                <select \r\n                  id=\"bom-select\" \r\n                  value={selectedBOMId} \r\n                  onChange={e => setSelectedBOMId(e.target.value)}\r\n                  className=\"input-field min-w-[250px]\"\r\n                >\r\n                  <option value=\"\">Select a BOM to view its template</option>\r\n                  {billsOfMaterials.map(bom => (\r\n                    <option key={bom.id} value={bom.id}>\r\n                      {`${bom.id} - ${bom.finishedProduct}`}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              {/* Components Section */}\r\n              <div>\r\n                <h3 className=\"text-md font-medium text-gray-900 mb-4\">Components</h3>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Component</th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">To Consume</th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Units</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                      {moComponents.length > 0 ? moComponents.map((c, i) => (\r\n                        <tr key={i} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{c.component}</td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{c.toConsume}</td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{c.units}</td>\r\n                        </tr>\r\n                      )) : (\r\n                        <tr>\r\n                          <td colSpan=\"3\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                            Select a BOM to see components.\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Work Orders Section */}\r\n              <div>\r\n                <h3 className=\"text-md font-medium text-gray-900 mb-4\">Work Orders</h3>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Operation</th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Work Center</th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Expected Duration</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                      {moWorkOrders.length > 0 ? moWorkOrders.map((wo, i) => (\r\n                        <tr key={i} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{wo.operation}</td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{wo.workCenter}</td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{wo.duration}</td>\r\n                        </tr>\r\n                      )) : (\r\n                        <tr>\r\n                          <td colSpan=\"3\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                            Select a BOM to see work orders.\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        /* New/Edit Bill of Materials Form View */\r\n        <>\r\n          {/* Form Header */}\r\n          <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">\r\n                {isNew ? 'Create' : 'Edit'} Bill of Materials\r\n              </h1>\r\n              <p className=\"text-gray-600 mt-1\">\r\n                {isNew ? 'Create a new bill of materials' : 'Edit existing bill of materials'}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <button \r\n                onClick={() => setShowEdit(false)} \r\n                className=\"btn-secondary\"\r\n              >\r\n                ‚Üê Back to List\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n              <p className=\"text-red-800 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"card\">\r\n            {/* Basic Information */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Basic Information</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">BOM ID</label>\r\n                  <input \r\n                    value={bomId} \r\n                    readOnly \r\n                    className=\"input-field bg-gray-50\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Finished Product</label>\r\n                  <select \r\n                    ref={finishedProductRef}\r\n                    value={finishedProduct} \r\n                    onChange={e => setFinishedProduct(e.target.value)}\r\n                    className=\"input-field\"\r\n                  >\r\n                    <option value=\"\">Select a Product</option>\r\n                    {stockLedger.map(item => (\r\n                      <option key={item.id} value={item.name}>{item.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Quantity</label>\r\n                  <input \r\n                    type=\"number\" \r\n                    step=\"0.01\" \r\n                    min=\"0\" \r\n                    value={quantity} \r\n                    onChange={e => setQuantity(e.target.value)}\r\n                    className=\"input-field\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Reference</label>\r\n                  <input \r\n                    type=\"text\" \r\n                    maxLength={8} \r\n                    value={reference} \r\n                    onChange={e => setReference(e.target.value)}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Optional reference\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Components Table */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Components</h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Component</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">To Consume</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Units</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {components.map((row, idx) => (\r\n                      <tr key={idx}>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <input \r\n                            value={row.component} \r\n                            onChange={e => updateComponent(idx, 'component', e.target.value)} \r\n                            placeholder=\"e.g., Motherboard\"\r\n                            className=\"input-field\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <input \r\n                            type=\"number\" \r\n                            step=\"0.01\" \r\n                            min=\"0\" \r\n                            value={row.toConsume} \r\n                            onChange={e => updateComponent(idx, 'toConsume', e.target.value)}\r\n                            className=\"input-field\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <input \r\n                            value={row.units} \r\n                            onChange={e => updateComponent(idx, 'units', e.target.value)} \r\n                            placeholder=\"e.g., pcs\"\r\n                            className=\"input-field\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <button \r\n                            onClick={() => removeComponent(idx)} \r\n                            className=\"text-red-600 hover:text-red-900\"\r\n                          >\r\n                            Remove\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                <button onClick={addComponent} className=\"btn-secondary\">\r\n                  Add Component\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Work Orders Table */}\r\n            <div className=\"mb-6\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Work Orders</h3>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Operation</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Work Center</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Expected Duration (hours)</th>\r\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {workOrders.map((row, idx) => (\r\n                      <tr key={idx}>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <input \r\n                            value={row.operation} \r\n                            onChange={e => updateWorkOrder(idx, 'operation', e.target.value)} \r\n                            placeholder=\"e.g., Assembly\"\r\n                            className=\"input-field\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <input \r\n                            value={row.workCenter} \r\n                            onChange={e => updateWorkOrder(idx, 'workCenter', e.target.value)} \r\n                            placeholder=\"e.g., Assembly Line 1\"\r\n                            className=\"input-field\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <input \r\n                            type=\"number\" \r\n                            step=\"0.01\" \r\n                            min=\"0\" \r\n                            value={row.duration} \r\n                            onChange={e => updateWorkOrder(idx, 'duration', e.target.value)}\r\n                            className=\"input-field\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <button \r\n                            onClick={() => removeWorkOrder(idx)} \r\n                            className=\"text-red-600 hover:text-red-900\"\r\n                          >\r\n                            Remove\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div className=\"mt-4\">\r\n                <button onClick={addWorkOrder} className=\"btn-secondary\">\r\n                  Add Work Order\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Form Actions */}\r\n            <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200\">\r\n              <button onClick={handleCancel} className=\"btn-secondary\">\r\n                Cancel\r\n              </button>\r\n              <button \r\n                onClick={handleSave} \r\n                className=\"btn-primary\" \r\n                disabled={isFormInvalid}\r\n              >\r\n                Save Bill of Materials\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BillOfMaterials;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}